---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Navigation from '../../components/Navigation.astro';
import CategorySidebar from '../../components/CategorySidebar.astro';
import Footer from '../../components/Footer.astro';

import { getCollection } from 'astro:content';

const beritaList = await getCollection('paket-tour');

const title = 'Paket Tour Dieng';
const description = 'Paket tour ke dataran tinggi Dieng dari berbagai kota, cocok untuk keluarga, pasangan, hingga rombongan.';
---

<BaseLayout {title} {description}>
  <Header />
  <Navigation />

  <main class="main-content">
    <CategorySidebar />

    <section class="seasonal">
      <h1>Paket Tour Dieng</h1>
      <p><em>Rekomendasi paket wisata ke Dataran Tinggi Dieng. Tersedia pilihan dari Jogja, Semarang, Solo, Purwokerto, dan kota lainnya.</em></p>

      <div class="berita-list" style="display:grid; gap:1.5rem; margin-top:2rem;">
        {beritaList
          .sort((a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate))
          .map(({ data }) => (
            <a href={`/paket-tour/${data.slug}/`} style="display:block; border:1px solid #ddd; border-radius:8px; padding:1rem; text-decoration:none; color:inherit;">
              <h2 style="margin:0 0 0.5rem; font-size:1.25rem; color:#19335a;">{data.title}</h2>
              <p style="font-size:0.9rem; color:#666;">{new Date(data.pubDate).toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' })}</p>
              <p style="font-size:1rem; margin-top:0.5rem; line-height:1.5;">{data.description}</p>
            </a>
          ))}
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>
