---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Navigation from '../../components/Navigation.astro';
import CategorySidebar from '../../components/CategorySidebar.astro';
import Footer from '../../components/Footer.astro';

import { getCollection } from 'astro:content';

const beritaList = await getCollection('berita');

const title = 'Paket Tour Dieng';
const description = 'Paket tour ke dataran tinggi Dieng.';
---

<BaseLayout {title} {description}>
  <Header />
  <Navigation />
  <main class="main-content">
    <CategorySidebar />
    <section class="seasonal">
      <h1>Paket Tour Dieng</h1>
      <p><em>Rekomendasi paket wisata ke Dieng, Jawa Tengah.</em></p>

      <div class="berita-list" style="display:grid; gap:1.5rem; margin-top:2rem;">
        {beritaList.sort((a, b) => new Date(b.data.date) - new Date(a.data.date)).map(({ data }) => (
          <a href={`/berita/${data.slug}/`} style="display:block; border:1px solid #ddd; border-radius:8px; padding:1rem; text-decoration:none; color:inherit;">
            <img src={data.cover} alt={data.title} style="width:100%; height:auto; border-radius:6px; margin-bottom:0.5rem;" />
            <h2 style="margin:0; font-size:1.25rem;">{data.title}</h2>
            <p style="font-size:0.9rem; color:#555;">{new Date(data.date).toLocaleDateString()}</p>
            <p style="font-size:1rem; margin-top:0.5rem;">{data.excerpt}</p>
          </a>
        ))}
      </div>
    </section>
  </main>
  <Footer />
</BaseLayout>
